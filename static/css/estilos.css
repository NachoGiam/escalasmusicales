     :root {
       --cell: 38px;
       --gap: 6px;
       --stringCol: 26px;
       --bg: #0f172a;
       --panel: #111827;
       --line: rgba(255, 255, 255, .10);
       --text: rgba(255, 255, 255, .9);
       --muted: rgba(255, 255, 255, .65);

     }

     * {
       box-sizing: border-box;
     }

     body {
       margin: 0;
       padding: 24px;
       font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
       background: radial-gradient(1200px 600px at 20% 0%, #1f2937 0%, var(--bg) 60%);
       color: var(--text);
     }

     .wrap {
       max-width: 1100px;
       margin: 0 auto;
     }

     h1 {
       margin: 0 0 8px;
       font-size: 20px;
     }

     p {
       margin: 0 0 16px;
       color: var(--muted);
     }

     .board {
       background: rgba(17, 24, 39, .7);
       border: 1px solid var(--line);
       border-radius: 16px;
       padding: 16px;
       overflow-x: auto;
     }

     /* La grilla: 1 col para etiquetas + 13 cols (0..12) */
     /* 0 (celda) | cuerda (label) | 1..12 */
     .grid {
       display: grid;
       grid-template-columns: var(--cell) var(--stringCol) repeat(20, var(--cell));
       gap: var(--gap);
       align-items: center;
       min-width: calc(var(--cell) + var(--stringCol) + 20 * var(--cell) + 21 * var(--gap));
     }




     .fret-label {
       text-align: center;
       font-size: 12px;
       color: var(--muted);
       user-select: none;
       padding: 6px 0;
     }

     .string-label {
       text-align: center;
       padding-right: 0;
       width: var(--stringCol);
       /* opcional pero ayuda */
       color: rgba(255, 255, 255, .65);
       font-weight: 600;
       user-select: none;
     }


     .cell {
       width: var(--cell);
       height: var(--cell);
       border-radius: 12px;
       border: 1px solid var(--line);
       background: rgba(255, 255, 255, .03);
       display: grid;
       place-items: center;
       cursor: pointer;
       user-select: none;
       transition: transform .06s ease, background .15s ease, border-color .15s ease;
       position: relative;
     }

     .cell:hover {
       transform: translateY(-1px);
       background: rgba(255, 255, 255, .06);
     }

     .cell:active {
       transform: translateY(0px) scale(.98);
     }

     /* Marcas MANUALES (click) */
     .cell.on {
       background: rgba(34, 197, 94, .18);
       border-color: rgba(34, 197, 94, .55);
     }

     /* Marcas por ESCALA (auto) */
     .cell.scale {
       background: rgba(59, 130, 246, .16);
       border-color: rgba(59, 130, 246, .55);
     }

     /* TÓNICA (auto) */
     .cell.root {
       background: rgba(245, 158, 11, .18);
       border-color: rgba(245, 158, 11, .70);
       box-shadow: 0 0 0 2px rgba(245, 158, 11, .20) inset;
     }

     /* PRÁCTICA (highlight) */
     .cell.active-practice {
       background: rgba(236, 72, 153, 0.4) !important;
       /* Rosa fuerte */
       border-color: rgba(236, 72, 153, 1) !important;
       box-shadow: 0 0 15px rgba(236, 72, 153, 0.5);
       transform: scale(1.1);
       z-index: 10;
     }

     .cell.active-practice .note {
       color: #fff !important;
       font-weight: 800;
       font-size: 14px;
     }

     /* Puntito (para manual) */
     .dot {
       width: 12px;
       height: 12px;
       border-radius: 999px;
       background: rgba(255, 255, 255, .30);
       opacity: .0;
     }

     .cell.on .dot {
       opacity: 1;
       background: rgba(34, 197, 94, .9);
     }

     .note {
       font-size: 12px;
       letter-spacing: .2px;
       color: rgba(255, 255, 255, .28);
       /* suave */
       user-select: none;
       pointer-events: none;
       line-height: 1;
     }

     /* cuando está resaltado, la nota se lee mejor */
     .cell.scale .note {
       color: rgba(255, 255, 255, .78);
     }

     .cell.root .note {
       color: rgba(255, 255, 255, .92);
       font-weight: 700;
     }

     .cell.on .note {
       color: rgba(255, 255, 255, .88);
       font-weight: 600;
     }

     /* si una celda está oculta por zona (si usás zonas), que la nota sea casi invisible */
     .cell.hidden .note {
       color: rgba(255, 255, 255, .08);
     }


     /* Frets markers (3,5,7,9,12) abajo */
     .markers {
       margin-top: 10px;
       display: grid;
       grid-template-columns: var(--cell) var(--stringCol) repeat(20, var(--cell));
       gap: var(--gap);
       align-items: center;
       min-width: calc(var(--cell) + var(--stringCol) + 20 * var(--cell) + 21 * var(--gap));
     }



     .marker {
       height: 16px;
       display: grid;
       place-items: center;
       color: rgba(255, 255, 255, .25);
       user-select: none;
     }

     .marker .m {
       width: 10px;
       height: 10px;
       border-radius: 999px;
       background: #000000 !important;
       /* Estrategia inversa: Negro para que la extensión lo haga blanco */
       opacity: 1 !important;
     }

     .marker.double .m {
       width: 10px;
       height: 10px;
       box-shadow: -8px 0 0 #000000, 8px 0 0 #000000 !important;
       background: transparent !important;
     }

     .toolbar {
       display: flex;
       gap: 10px;
       align-items: center;
       margin: 14px 0 0;
       flex-wrap: wrap;
     }

     button,
     select {
       background: rgba(255, 255, 255, .06);
       border: 1px solid var(--line);
       color: var(--text);
       padding: 8px 10px;
       border-radius: 12px;
       cursor: pointer;
     }

     button:hover,
     select:hover {
       background: rgba(255, 255, 255, .10);
     }

     button.active {
       border-color: rgba(255, 255, 255, .55);
       box-shadow: 0 0 0 2px rgba(255, 255, 255, .10) inset;
       background: rgba(255, 255, 255, .12);
     }

     .hint {
       color: var(--muted);
       font-size: 12px;
     }

     .spacer {
       flex: 1;
     }

     /* Fix: opciones del select visibles en tema oscuro */
     select,
     option {
       color: rgba(255, 255, 255, .92);
       background-color: #111827;
     }

     select:focus {
       outline: none;
     }

     .board-row {
       display: flex;
       gap: var(--gap);
       align-items: flex-start;
     }

     .scrollArea {
       overflow-x: auto;
       padding-bottom: 2px;
     }

     /* Columna fija de cuerdas al aire */
     .openGrid {
       display: grid;
       grid-template-columns: 70px var(--cell);
       /* label + celda 0 */
       gap: var(--gap);
       align-items: center;
     }

     /* estilo distinto para el traste 0 */
     .cell.open {
       background: rgba(255, 255, 255, .06);
       border-color: rgba(255, 255, 255, .20);
     }

     .cell.open .note {
       color: rgba(255, 255, 255, .85);
       font-weight: 600;
     }

     .fret-label.open {
       color: rgba(255, 255, 255, .45);
     }

     /* ✅ Si el traste 0 (open) también está en la escala, que se vea azul */
     .cell.open.scale {
       background: rgba(59, 130, 246, .16);
       border-color: rgba(59, 130, 246, .55);
     }

     /* ✅ Si el traste 0 (open) es tónica, que se vea dorado */
     .cell.open.root {
       background: rgba(245, 158, 11, .18);
       border-color: rgba(245, 158, 11, .70);
       box-shadow: 0 0 0 2px rgba(245, 158, 11, .20) inset;
     }